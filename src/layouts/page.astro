---
import { Content1 } from "@/blocks/content-1"
import BaseLayout from "@/layouts/base.astro"
import type { LayoutSchema } from "@/schemas/layout"
import type { PageSchema } from "@/schemas/page"

import { Blocks } from "@/components/blocks"

type Props = PageSchema & LayoutSchema

const { blocks, ...props } = Astro.props

const slot = await Astro.slots.render("default")
---

<BaseLayout {...props}>
  {
    slot.trim().length > 0 && (
      <Content1 client:load {...props}>
        <Fragment set:html={slot} />
      </Content1>
    )
  }
  <Blocks client:load blocks={blocks} />
</BaseLayout>
