---
import PolicyLayout from "@/layouts/policy.astro"
import { getCollection } from "astro:content"

import { getHref } from "@/lib/get-href"

export async function getStaticPaths() {
  const entries = await getCollection("policies")
  return entries.map((entry) => {
    return {
      params: {
        policy: getHref(entry),
      },
      props: entry,
    }
  })
}
---

<PolicyLayout {...Astro.props.data} />
